(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{20:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var s=a(3),i=a.n(s),c=a(14),n=a.n(c),r=(a(20),a(5)),o=a.n(r),l=a(15),h=a.n(l),d=a(41),j=a(7),m=a.n(j),b=a(1);var u=function(e){const[t,a]=Object(s.useState)(""),[i,c]=Object(s.useState)(""),[n,r]=Object(s.useState)({}),l=e=>{d.a.get(`${o.a.base}weather?q=${"[object Object]"!=e?e:t}&units=metric&APPID=${o.a.key}`).then(e=>{r(e.data),a("")}).catch(function(e){console.log(e),r(""),a(""),c({message:"Not Found",query:t})})},h="white",j=112,u=!0;return Object(s.useEffect)(()=>{l("Delhi")},[]),Object(b.jsxs)("div",{className:"forecast",children:[Object(b.jsx)("div",{className:"forecast-icon",children:Object(b.jsx)(m.a,{icon:e.icon,color:h,size:j,animate:u})}),Object(b.jsxs)("div",{className:"today-weather",children:[Object(b.jsx)("h3",{children:e.weather}),Object(b.jsxs)("div",{className:"search-box",children:[Object(b.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search any city",onChange:e=>a(e.target.value),value:t}),Object(b.jsxs)("div",{className:"img-box",children:[" ",Object(b.jsx)("img",{src:"https://images.avishkaar.cc/workflow/newhp/search-white.png",onClick:l})]})]}),Object(b.jsx)("ul",{children:"undefined"!=typeof n.main?Object(b.jsxs)("div",{children:[" ",Object(b.jsxs)("li",{className:"cityHead",children:[Object(b.jsxs)("p",{children:[n.name,", ",n.sys.country]}),Object(b.jsx)("img",{className:"temp",src:`https://openweathermap.org/img/wn/${n.weather[0].icon}.png`})]}),Object(b.jsxs)("li",{children:["Temperature"," ",Object(b.jsxs)("span",{className:"temp",children:[Math.round(n.main.temp),"\xb0c (",n.weather[0].main,")"]})]}),Object(b.jsxs)("li",{children:["Humidity"," ",Object(b.jsxs)("span",{className:"temp",children:[Math.round(n.main.humidity),"%"]})]}),Object(b.jsxs)("li",{children:["Visibility"," ",Object(b.jsxs)("span",{className:"temp",children:[Math.round(n.visibility)," mi"]})]}),Object(b.jsxs)("li",{children:["Wind Speed"," ",Object(b.jsxs)("span",{className:"temp",children:[Math.round(n.wind.speed)," Km/h"]})]})]}):Object(b.jsxs)("li",{children:[i.query," ",i.message]})})]})]})},p=a.p+"static/media/WeatherIcons.c90d089e.gif";const x="white",O=112,g=!0;class y extends i.a.Component{constructor(){super(...arguments),this.state={lat:void 0,lon:void 0,errorMessage:void 0,temperatureC:void 0,temperatureF:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,icon:"CLEAR_DAY",sunrise:void 0,sunset:void 0,errorMsg:void 0},this.getPosition=e=>new Promise(function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)}),this.getWeather=async(e,t)=>{const a=await fetch(`${o.a.base}weather?lat=${e}&lon=${t}&units=metric&APPID=${o.a.key}`),s=await a.json();switch(this.setState({lat:e,lon:t,city:s.name,temperatureC:Math.round(s.main.temp),temperatureF:Math.round(1.8*s.main.temp+32),humidity:s.main.humidity,main:s.weather[0].main,country:s.sys.country}),this.state.main){case"Haze":default:this.setState({icon:"CLEAR_DAY"});break;case"Clouds":this.setState({icon:"CLOUDY"});break;case"Rain":this.setState({icon:"RAIN"});break;case"Snow":this.setState({icon:"SNOW"});break;case"Dust":case"Tornado":this.setState({icon:"WIND"});break;case"Drizzle":this.setState({icon:"SLEET"});break;case"Fog":case"Smoke":this.setState({icon:"FOG"})}}}componentDidMount(){navigator.geolocation?this.getPosition().then(e=>{this.getWeather(e.coords.latitude,e.coords.longitude)}).catch(e=>{this.getWeather(28.67,77.22),alert("You have disabled location service. Allow 'This APP' to access your location. Your current location will be used for calculating Real time weather.")}):alert("Geolocation not available"),this.timerID=setInterval(()=>this.getWeather(this.state.lat,this.state.lon),6e5)}componentWillUnmount(){clearInterval(this.timerID)}render(){return this.state.temperatureC?Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsxs)("div",{className:"city",children:[Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)("h2",{children:this.state.city}),Object(b.jsx)("h3",{children:this.state.country})]}),Object(b.jsxs)("div",{className:"mb-icon",children:[" ",Object(b.jsx)(m.a,{icon:this.state.icon,color:x,size:O,animate:g}),Object(b.jsx)("p",{children:this.state.main})]}),Object(b.jsxs)("div",{className:"date-time",children:[Object(b.jsxs)("div",{className:"dmy",children:[Object(b.jsx)("div",{id:"txt"}),Object(b.jsx)("div",{className:"current-time",children:Object(b.jsx)(h.a,{format:"HH:mm:ss",interval:1e3,ticking:!0})}),Object(b.jsx)("div",{className:"current-date",children:(e=new Date,`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]}, ${e.getDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${e.getFullYear()}`)})]}),Object(b.jsx)("div",{className:"temperature",children:Object(b.jsxs)("p",{children:[this.state.temperatureC,"\xb0",Object(b.jsx)("span",{children:"C"})]})})]})]}),Object(b.jsx)(u,{icon:this.state.icon,weather:this.state.main})]}):Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsx)("img",{src:p,style:{width:"50%",WebkitUserDrag:"none"}}),Object(b.jsx)("h3",{style:{color:"white",fontSize:"22px",fontWeight:"600"},children:"Detecting your location"}),Object(b.jsxs)("h3",{style:{color:"white",marginTop:"10px"},children:["Your current location wil be displayed on the App ",Object(b.jsx)("br",{})," & used for calculating Real time weather."]})]});var e}}var v=y;a(38);const w={textAlign:"center",marginTop:"3rem",padding:"1.5rem",backgroundColor:"#f0f4f8",color:"#333",borderTop:"1px solid #ccc",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},f={marginBottom:"0.5rem",fontSize:"1rem"},N={textDecoration:"none",color:"#0077b5",fontWeight:"bold"},k={textDecoration:"none",color:"#000",fontWeight:"bold"},S={color:"#999"};var D=function(){return Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(v,{})}),Object(b.jsx)("footer",{style:w,children:Object(b.jsxs)("p",{style:f,children:["\xa9 ",(new Date).getFullYear(),". Made by"," ",Object(b.jsx)("span",{style:k,children:"Jidnyesh Chaudhari"})," ",Object(b.jsx)("span",{style:S,children:"|"})," ",Object(b.jsx)("a",{href:"https://www.linkedin.com/in/jidnyesh-chaudhari-2ba832211/",target:"_blank",rel:"noopener noreferrer",style:N,children:"LinkedIn"})," ",Object(b.jsx)("span",{style:S,children:"|"})," ",Object(b.jsx)("a",{href:"https://github.com/jidnyesh23",target:"_blank",rel:"noopener noreferrer",style:N,children:"GitHub"})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},5:function(e,t){e.exports={key:"3bd3ee9e190f92bac2cf85a47a9a82ae",base:"https://api.openweathermap.org/data/2.5/"}}},[[39,1,2]]]);
//# sourceMappingURL=main.14a796e5.chunk.js.map