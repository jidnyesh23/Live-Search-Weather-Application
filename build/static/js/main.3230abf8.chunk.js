(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/WeatherIcons.0a218296.gif"},18:function(e,t,a){e.exports=a(56)},2:function(e,t){e.exports={key:"3bd3ee9e190f92bac2cf85a47a9a82ae",base:"https://api.openweathermap.org/data/2.5/"}},23:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(14),r=a.n(i),s=(a(23),a(2)),o=a.n(s),l=a(15),m=a.n(l),u=a(16),h=a.n(u),d=a(3),p=a.n(d);var E=function(e){const[t,a]=Object(n.useState)(""),[i,r]=Object(n.useState)(""),[s,l]=Object(n.useState)({}),m=e=>{h.a.get("".concat(o.a.base,"weather?q=").concat("[object Object]"!=e?e:t,"&units=metric&APPID=").concat(o.a.key)).then(e=>{l(e.data),a("")}).catch((function(e){console.log(e),l(""),a(""),r({message:"Not Found",query:t})}))},u="white",d=112,E=!0;return Object(n.useEffect)(()=>{m("Delhi")},[]),c.a.createElement("div",{className:"forecast"},c.a.createElement("div",{className:"forecast-icon"},c.a.createElement(p.a,{icon:e.icon,color:u,size:d,animate:E})),c.a.createElement("div",{className:"today-weather"},c.a.createElement("h3",null,e.weather),c.a.createElement("div",{className:"search-box"},c.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search any city",onChange:e=>a(e.target.value),value:t}),c.a.createElement("div",{className:"img-box"}," ",c.a.createElement("img",{src:"https://images.avishkaar.cc/workflow/newhp/search-white.png",onClick:m}))),c.a.createElement("ul",null,"undefined"!=typeof s.main?c.a.createElement("div",null," ",c.a.createElement("li",{className:"cityHead"},c.a.createElement("p",null,s.name,", ",s.sys.country),c.a.createElement("img",{className:"temp",src:"https://openweathermap.org/img/wn/".concat(s.weather[0].icon,".png")})),c.a.createElement("li",null,"Temperature"," ",c.a.createElement("span",{className:"temp"},Math.round(s.main.temp),"\xb0c (",s.weather[0].main,")")),c.a.createElement("li",null,"Humidity"," ",c.a.createElement("span",{className:"temp"},Math.round(s.main.humidity),"%")),c.a.createElement("li",null,"Visibility"," ",c.a.createElement("span",{className:"temp"},Math.round(s.visibility)," mi")),c.a.createElement("li",null,"Wind Speed"," ",c.a.createElement("span",{className:"temp"},Math.round(s.wind.speed)," Km/h"))):c.a.createElement("li",null,i.query," ",i.message))))},g=a(17),y=a.n(g);const v="white",w=112,b=!0;class f extends c.a.Component{constructor(){super(...arguments),this.state={lat:void 0,lon:void 0,errorMessage:void 0,temperatureC:void 0,temperatureF:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,icon:"CLEAR_DAY",sunrise:void 0,sunset:void 0,errorMsg:void 0},this.getPosition=e=>new Promise((function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)})),this.getWeather=async(e,t)=>{const a=await fetch("".concat(o.a.base,"weather?lat=").concat(e,"&lon=").concat(t,"&units=metric&APPID=").concat(o.a.key)),n=await a.json();switch(this.setState({lat:e,lon:t,city:n.name,temperatureC:Math.round(n.main.temp),temperatureF:Math.round(1.8*n.main.temp+32),humidity:n.main.humidity,main:n.weather[0].main,country:n.sys.country}),this.state.main){case"Haze":this.setState({icon:"CLEAR_DAY"});break;case"Clouds":this.setState({icon:"CLOUDY"});break;case"Rain":this.setState({icon:"RAIN"});break;case"Snow":this.setState({icon:"SNOW"});break;case"Dust":this.setState({icon:"WIND"});break;case"Drizzle":this.setState({icon:"SLEET"});break;case"Fog":case"Smoke":this.setState({icon:"FOG"});break;case"Tornado":this.setState({icon:"WIND"});break;default:this.setState({icon:"CLEAR_DAY"})}}}componentDidMount(){navigator.geolocation?this.getPosition().then(e=>{this.getWeather(e.coords.latitude,e.coords.longitude)}).catch(e=>{this.getWeather(28.67,77.22),alert("You have disabled location service. Allow 'This APP' to access your location. Your current location will be used for calculating Real time weather.")}):alert("Geolocation not available"),this.timerID=setInterval(()=>this.getWeather(this.state.lat,this.state.lon),6e5)}componentWillUnmount(){clearInterval(this.timerID)}render(){return this.state.temperatureC?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"city"},c.a.createElement("div",{className:"title"},c.a.createElement("h2",null,this.state.city),c.a.createElement("h3",null,this.state.country)),c.a.createElement("div",{className:"mb-icon"}," ",c.a.createElement(p.a,{icon:this.state.icon,color:v,size:w,animate:b}),c.a.createElement("p",null,this.state.main)),c.a.createElement("div",{className:"date-time"},c.a.createElement("div",{className:"dmy"},c.a.createElement("div",{id:"txt"}),c.a.createElement("div",{className:"current-time"},c.a.createElement(m.a,{format:"HH:mm:ss",interval:1e3,ticking:!0})),c.a.createElement("div",{className:"current-date"},(e=>{let t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],a=e.getDate(),n=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],c=e.getFullYear();return"".concat(t,", ").concat(a," ").concat(n," ").concat(c)})(new Date))),c.a.createElement("div",{className:"temperature"},c.a.createElement("p",null,this.state.temperatureC,"\xb0",c.a.createElement("span",null,"C"))))),c.a.createElement(E,{icon:this.state.icon,weather:this.state.main})):c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{src:y.a,style:{width:"50%",WebkitUserDrag:"none"}}),c.a.createElement("h3",{style:{color:"white",fontSize:"22px",fontWeight:"600"}},"Detecting your location"),c.a.createElement("h3",{style:{color:"white",marginTop:"10px"}},"Your current location wil be displayed on the App ",c.a.createElement("br",null)," & used for calculating Real time weather."))}}var N=f;a(55);var S=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[18,1,2]]]);
//# sourceMappingURL=main.3230abf8.chunk.js.map